splash_pidfound() {
	pidof esplash > /dev/null 2>&1
}

splash_running() {
	[ -x /sbin/esplash ] && splash_pidfound
}

splash_start() {
	[ ! -e /etc/default/esplash ] || esplash -b -i /etc/default/esplash -f /var/lib/esplash/esplash_fifo
}

splash_progress() {
	splash_running || splash_start || return 0
	echo $1 > /var/lib/esplash/esplash_fifo || return 1
	return 0
}
